name: Run Dashboard Analysis Notebook

on:
  workflow_dispatch:
  schedule:
    - cron: '0 7 * * *'  # 07:00 UTC 

jobs:
  execute-notebook:
    runs-on: ubuntu-latest

    steps:
    - name: ‚¨áÔ∏è Checkout repository
      uses: actions/checkout@v3

    - name: üêç Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.11'

    - name: üì¶ Install dependencies
      run: |
        pip install openai slack_sdk gspread oauth2client nest_asyncio pyppeteer nbconvert

    - name: ‚ñ∂Ô∏è Run notebook
      run: |
        jupyter nbconvert --to notebook --execute Databox_Statistics_ChatGPT.ipynb --output executed_notebook.ipynb
